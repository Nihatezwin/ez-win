<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <title>7A v…ô 7B s…ôsverm…ô</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 50px; }
    button { font-size: 24px; padding: 12px 24px; margin: 20px; cursor: pointer; }
    .disabled { background-color: #ccc; cursor: not-allowed; }
    .score { font-size: 20px; margin-top: 10px; }
  </style>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js"></script>
</head>
<body>
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getDatabase, ref, onValue, runTransaction } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

  // S…ônin config
  const firebaseConfig = {
    apiKey: "AIzaSyAD6tqj2_Wsftm-gD1-vTvpX1QF-ZgZBB8",
    authDomain: "duzune7b.firebaseapp.com",
    projectId: "duzune7b",
    storageBucket: "duzune7b.firebasestorage.app",
    messagingSenderId: "1005748754652",
    appId: "1:1005748754652:web:ba1ddeba6779ff17f17c19"
  };

  // Ba≈ülat
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const btnA = document.getElementById("btnA");
  const btnB = document.getElementById("btnB");
  const resultA = document.getElementById("resultA");
  const resultB = document.getElementById("resultB");

  // Real vaxtda oxuma
  onValue(ref(db, "votes/7A"), snapshot => {
    const countA = snapshot.val() || 0;
    resultA.textContent = `7A: ${countA} n…ôf…ôr ‚Äî ${countA * 10} xal`;
  });

  onValue(ref(db, "votes/7B"), snapshot => {
    const countB = snapshot.val() || 0;
    resultB.textContent = `7B: ${countB} n…ôf…ôr ‚Äî ${countB * 10} xal`;
  });

  // D√ºym…ôl…ôr
  btnA.onclick = () => {
    runTransaction(ref(db, "votes/7A"), count => (count || 0) + 1);
    btnA.disabled = true; btnB.disabled = true;
  };

  btnB.onclick = () => {
    runTransaction(ref(db, "votes/7B"), count => (count || 0) + 1);
    btnA.disabled = true; btnB.disabled = true;
  };
</script>
  <h1>7A v…ô 7B s…ôsverm…ô</h1>

  <button id="btnA">7A</button>
  <div id="resultA" class="score">7A: 0 n…ôf…ôr ‚Äî 0 xal</div>

  <button id="btnB">7B</button>
  <div id="resultB" class="score">7B: 0 n…ôf…ôr ‚Äî 0 xal</div>

  <script>
    // Import the functions you need from the SDKs you need
import { initializeApp } from "firebase/app";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyAD6tqj2_Wsftm-gD1-vTvpX1QF-ZgZBB8",
  authDomain: "duzune7b.firebaseapp.com",
  projectId: "duzune7b",
  storageBucket: "duzune7b.firebasestorage.app",
  messagingSenderId: "1005748754652",
  appId: "1:1005748754652:web:ba1ddeba6779ff17f17c19"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
    // üîπ Firebase konfiqurasiyasƒ± (√∂z hesabƒ±ndan doldurmalƒ±san)
    const firebaseConfig = {
      apiKey: "S∆èNƒ∞N_API_KEY",
      authDomain: "S∆èNƒ∞N_PROJECT.firebaseapp.com",
      databaseURL: "https://S∆èNƒ∞N_PROJECT.firebaseio.com",
      projectId: "S∆èNƒ∞N_PROJECT",
      storageBucket: "S∆èNƒ∞N_PROJECT.appspot.com",
      messagingSenderId: "S∆èNƒ∞N_ID",
      appId: "S∆èNƒ∞N_APP_ID"
    };

    // üîπ Firebase ba≈ülat
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const btnA = document.getElementById('btnA');
    const btnB = document.getElementById('btnB');
    const resultA = document.getElementById('resultA');
    const resultB = document.getElementById('resultB');

    // üîπ Real vaxtda oxuma
    db.ref('votes/7A').on('value', snapshot => {
      const countA = snapshot.val() || 0;
      resultA.textContent = `7A: ${countA} n…ôf…ôr ‚Äî ${countA * 10} xal`;
    });

    db.ref('votes/7B').on('value', snapshot => {
      const countB = snapshot.val() || 0;
      resultB.textContent = `7B: ${countB} n…ôf…ôr ‚Äî ${countB * 10} xal`;
    });

    // üîπ S…ôsverm…ô d√ºym…ôl…ôri
    btnA.onclick = () => {
      db.ref('votes/7A').transaction(count => (count || 0) + 1);
      btnA.disabled = true; btnB.disabled = true;
      btnA.classList.add('disabled'); btnB.classList.add('disabled');
    };

    btnB.onclick = () => {
      db.ref('votes/7B').transaction(count => (count || 0) + 1);
      btnA.disabled = true; btnB.disabled = true;
      btnA.classList.add('disabled'); btnB.classList.add('disabled');
    };
  </script>
</body>
</html>

